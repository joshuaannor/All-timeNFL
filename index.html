<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All‑Time NFL Lineup Builder</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="min-h-screen text-neutral-100 antialiased">
  <header class="sticky top-0 z-30 glass">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <h1 class="text-xl md:text-2xl font-extrabold">All‑Time Lineup Builder</h1>
      <div class="flex gap-2">
        <button id="exportBtn" class="px-3 py-2 rounded bg-[var(--brand)] hover:bg-[var(--brand-dark)] font-semibold">Export JSON</button>
        <button id="clearBtn" class="px-3 py-2 rounded bg-neutral-700 hover:bg-neutral-600">Clear</button>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 pb-16">
    <section class="mt-6">
      <div id="field" class="field w-full aspect-[2.6/1] max-h-[70vh] mx-auto">
        <!-- WRs (wide) -->
        <div class="pos left-[2.5%] top-1/2 -translate-y-1/2 bg-rose-600 text-white" data-slot="WR1" data-accept="WR"><div><div class="abbr">WR</div><div class="name" data-name>Empty</div></div></div>
        <div class="pos right-[2.5%] top-1/2 -translate-y-1/2 bg-rose-600 text-white" data-slot="WR2" data-accept="WR"><div><div class="abbr">WR</div><div class="name" data-name>Empty</div></div></div>

        <!-- OL (spread) + TE -->
        <div class="pos left-1/2 -translate-x-[340px] top-[16%] bg-amber-600 text-white" data-slot="LT" data-accept="T,OT"><div class="abbr">LT</div><div class="name" data-name>Empty</div></div>
        <div class="pos left-1/2 -translate-x-[250px] top-[16%] bg-amber-600 text-white" data-slot="LG" data-accept="G,OG"><div class="abbr">LG</div><div class="name" data-name>Empty</div></div>
        <div class="pos left-1/2 -translate-x-[160px] top-[16%] bg-amber-600 text-white" data-slot="C" data-accept="C"><div class="abbr">C</div><div class="name" data-name>Empty</div></div>
        <div class="pos left-1/2 -translate-x-[70px] top-[16%] bg-amber-600 text-white" data-slot="RG" data-accept="G,OG"><div class="abbr">RG</div><div class="name" data-name>Empty</div></div>
        <div class="pos left-1/2 translate-x-[20px] top-[16%] bg-amber-600 text-white" data-slot="RT" data-accept="T,OT"><div class="abbr">RT</div><div class="name" data-name>Empty</div></div>
        <div class="pos left-1/2 translate-x-[110px] top-[16%] bg-indigo-600 text-white" data-slot="TE" data-accept="TE"><div class="abbr">TE</div><div class="name" data-name>Empty</div></div>

        <!-- Backfield (deeper) -->
        <div class="pos left-1/2 -translate-x-[110px] top-[36%] bg-sky-600 text-white" data-slot="QB" data-accept="QB"><div class="abbr">QB</div><div class="name" data-name>Empty</div></div>
        <div class="pos left-1/2 -translate-x-[110px] top-[53%] bg-teal-600 text-white" data-slot="FB" data-accept="FB"><div class="abbr">FB</div><div class="name" data-name>Empty</div></div>
        <div class="pos left-1/2 -translate-x-[110px] top-[70%] bg-emerald-600 text-white" data-slot="HB" data-accept="RB,HB"><div class="abbr">HB</div><div class="name" data-name>Empty</div></div>
      </div>
    </section>

    <section class="mt-6 grid gap-4 md:grid-cols-3">
      <div class="glass rounded-2xl p-4">
        <div class="font-semibold mb-2">Your lineup</div>
        <ul id="lineupList" class="text-sm space-y-1 text-neutral-300"></ul>
      </div>
      <div class="glass rounded-2xl p-4">
        <div class="font-semibold mb-2">Data source</div>
        <p class="text-sm text-neutral-300 mb-2">Powered by the open <a class="underline hover:no-underline" href="https://github.com/nflverse/nflfastR-roster" target="_blank" rel="noreferrer">nflverse / nflfastR roster</a> CSV (client‑side only).</p>
        <p class="text-sm text-neutral-300">Pick between modern nflverse rosters and the bundled 1990s legacy library directly inside the player picker, then narrow results with decade-based season filters.</p>
      </div>
      <div class="glass rounded-2xl p-4">
        <div class="font-semibold mb-2">Hosting</div>
        <p class="text-sm text-neutral-300">Save as <span class="font-semibold">index.html</span> → push to GitHub → Settings → Pages → Deploy from branch.</p>
      </div>
    </section>
  </main>

  <!-- Picker (custom modal) -->
  <div id="picker" class="overlay" aria-hidden="true">
    <div class="bg-neutral-900 text-neutral-50 rounded-2xl p-5 md:p-6 w-[min(760px,calc(100%-2rem))]">
      <div class="flex items-center justify-between gap-3 mb-3">
        <h2 id="pickerTitle" class="text-lg font-semibold">Pick player</h2>
        <button id="closePicker" class="px-3 py-1.5 rounded-lg bg-neutral-700 hover:bg-neutral-600">Close</button>
      </div>
      <div class="flex flex-wrap items-center gap-2 text-xs text-neutral-300 mb-3">
        <span class="px-2 py-1 rounded bg-neutral-800/70">Type to search • min 2 chars</span>
        <span id="acceptLabel" class="px-2 py-1 rounded bg-neutral-800/70"></span>
        <span id="poolCount" class="px-2 py-1 rounded bg-neutral-800/70"></span>
        <span id="status" class="px-2 py-1 rounded bg-neutral-800/70 hidden"></span>
      </div>
      <div class="flex flex-col md:flex-row gap-3 mb-3 text-sm text-neutral-200">
        <label class="flex-1 min-w-[220px]">
          <span class="block text-xs text-neutral-400 mb-1">Data library</span>
          <select id="librarySelect" class="w-full rounded-lg bg-neutral-800 text-neutral-100 border border-neutral-700/80 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[var(--brand)]">
            <option value="nflverse" selected>nflverse roster (default)</option>
          </select>
        </label>
        <label class="flex-1 min-w-[220px]">
          <span class="block text-xs text-neutral-400 mb-1">Season filter</span>
          <select id="seasonFilter" class="w-full rounded-lg bg-neutral-800 text-neutral-100 border border-neutral-700/80 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[var(--brand)]">
            <option value="all" selected>All seasons</option>
            <option value="1990s">1990s standouts</option>
          </select>
        </label>
      </div>
      <input id="searchInput" type="text" placeholder="Search players by name… (e.g., Tom, Rice, Sanders)" class="w-full rounded-xl bg-neutral-800 border border-neutral-700 p-3 outline-none focus:ring-2 focus:ring-[var(--brand)]" />
      <div id="results" class="mt-3 max-h-[48vh] overflow-auto rounded-xl border border-neutral-800 divide-y divide-neutral-800"></div>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
